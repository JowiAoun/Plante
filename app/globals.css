/**
 * Plante - Main Application Styles
 * Pixel-art UI with Tailwind CSS and NES.css
 */

/* Press Start 2P font for pixel-art headings - must be first */
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

/* Tailwind base imports */
@import "tailwindcss";

/* NES.css for pixel UI primitives */
@import "nes.css/css/nes.min.css";

/* ============================================
   DESIGN TOKENS & CSS CUSTOM PROPERTIES
   ============================================ */

:root {
  /* PICO-8 Palette */
  --color-black: #000000;
  --color-dark-blue: #1D2B53;
  --color-dark-purple: #7E2553;
  --color-dark-green: #008751;
  --color-brown: #AB5236;
  --color-dark-gray: #5F574F;
  --color-light-gray: #C2C3C7;
  --color-white: #FFF1E8;
  --color-red: #FF004D;
  --color-orange: #FFA300;
  --color-yellow: #FFEC27;
  --color-green: #00E436;
  --color-blue: #29ADFF;
  --color-lavender: #83769C;
  --color-pink: #FF77A8;
  --color-peach: #FFCCAA;

  /* Semantic colors - Default Theme */
  --color-background: var(--color-black);
  --color-surface: var(--color-dark-blue);
  --color-primary: var(--color-blue);
  --color-secondary: var(--color-lavender);
  --color-text: var(--color-white);
  --color-text-muted: var(--color-light-gray);
  --color-border: var(--color-dark-gray);
  --color-accent: var(--color-yellow);

  /* Status colors */
  --color-healthy: var(--color-green);
  --color-warning: var(--color-orange);
  --color-critical: var(--color-red);

  /* Typography */
  --font-game: 'Press Start 2P', monospace;
  --font-ui: 'Press Start 2P', monospace;

  /* Pixel grid base unit */
  --grid-unit: 8px;

  /* Pixel scale multiplier */
  --pixel-scale: 1;

  /* Custom Cursor */
  --cursor-pointer: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzElEQVRYR+2X0Q6AIAhF5f8/2jYXZkwEjNSVvVUjDpcrGgT7FUkI2D9xRfQETwNIiWO85wfINfQUEyxBG2ArsLwC0jioGt5zFcwF4OYDPi/mBYKm4t0U8ATgRm3ThFoAqkhNgWkA0jJLvaOVSs7j3qMnSgXWBMiWPXe94QqMBMBc1VZIvaTu5u5pQewq0EqNZvIEMCmxAawK0DNkay9QmfFNAJUXfgGgUkLaE7j/h8fnASkxHTz0DGIBMCnBeeM7AArpUd3mz2x3C7wADglA8BcWMZhZAAAAAElFTkSuQmCC) 14 0, pointer;
}

/* ============================================
   THEME: Spring ðŸŒ¸
   Pink and green fresh colors
   ============================================ */
[data-theme="spring"] {
  --color-background: #0a1628;
  --color-surface: #1a2a48;
  --color-primary: var(--color-green);
  --color-secondary: var(--color-pink);
  --color-accent: var(--color-pink);
  --color-border: #3a4a68;
}

/* ============================================
   THEME: Night ðŸŒ™
   Deep purple and muted tones
   ============================================ */
[data-theme="night"] {
  --color-background: #0a0a1a;
  --color-surface: #14142a;
  --color-primary: var(--color-dark-purple);
  --color-secondary: var(--color-lavender);
  --color-accent: var(--color-lavender);
  --color-border: #2a2a4a;
  --color-text: #d0d0e0;
  --color-text-muted: #8080a0;
}

/* ============================================
   THEME: Neon âš¡
   Bright pink and green cyberpunk
   ============================================ */
[data-theme="neon"] {
  --color-background: #0a0a14;
  --color-surface: #1a1a28;
  --color-primary: var(--color-pink);
  --color-secondary: var(--color-green);
  --color-accent: var(--color-green);
  --color-border: #3a3a5a;
  --color-healthy: #00ff88;
  --color-warning: var(--color-orange);
  --color-critical: #ff0066;
}

/* ============================================
   GLOBAL RESETS & BASE STYLES
   ============================================ */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  /* Prevent subpixel rendering for pixel-art */
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: unset;
}

body {
  margin: 0;
  padding: 0;
  background-color: var(--color-background);
  background-image: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('/background.png');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  background-repeat: no-repeat;
  color: var(--color-text);
  font-family: var(--font-ui);
  font-size: 14px;
  line-height: 1.5;
  min-height: 100vh;
}

/* Enforce custom cursor on all interactive elements */
a, button, [role="button"], input[type="submit"], input[type="button"], label, select, summary, .nes-btn {
  cursor: var(--cursor-pointer) !important;
}

/* ============================================
   PIXEL-ART RENDERING UTILITIES
   ============================================ */

/* Apply to all pixel-art images and sprites */
.pixelated,
[data-pixel] {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
}

/* Pixel-perfect SVG rendering */
.pixel-svg {
  shape-rendering: crispEdges;
}

/* ============================================
   TYPOGRAPHY
   ============================================ */

/* Game/Pixel font headings */
.font-game,
h1, h2, h3 {
  font-family: var(--font-game);
  letter-spacing: -0.5px;
}

h1 { font-size: 24px; }
h2 { font-size: 16px; }
h3 { font-size: 12px; }

/* UI font for readable text blocks */
.font-ui,
p {
  font-family: var(--font-ui);
}

/* Pixel game font for nav and buttons */
.font-game,
.app-shell__sidebar-link,
.nes-btn,
.action-button,
.toast {
  font-family: var(--font-game) !important;
}

/* ============================================
   NES.CSS OVERRIDES FOR PLANTE THEME
   ============================================ */

/* Override NES.css default colors */
.nes-container {
  background-color: var(--color-surface);
  color: var(--color-text);
}

.nes-container.is-dark {
  background-color: var(--color-black);
  color: var(--color-text);
}

.nes-btn {
  font-family: var(--font-game);
  font-size: 10px;
}

.nes-btn.is-primary {
  background-color: var(--color-primary);
  color: var(--color-black);
}

.nes-btn.is-success {
  background-color: var(--color-healthy);
  color: var(--color-black);
}

.nes-btn.is-warning {
  background-color: var(--color-warning);
  color: var(--color-black);
}

.nes-btn.is-error {
  background-color: var(--color-critical);
  color: var(--color-white);
}

/* ============================================
   CUSTOM PIXEL UTILITIES
   ============================================ */

/* Status indicator classes */
.status-healthy { color: var(--color-healthy); }
.status-warning { color: var(--color-warning); }
.status-critical { color: var(--color-critical); }

.bg-healthy { background-color: var(--color-healthy); }
.bg-warning { background-color: var(--color-warning); }
.bg-critical { background-color: var(--color-critical); }

/* Pixel shadow */
.pixel-shadow {
  box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.25);
}

.pixel-shadow-inset {
  box-shadow: inset 2px 2px 0 rgba(0, 0, 0, 0.25);
}

/* Pixel border */
.pixel-border {
  border: 4px solid var(--color-border);
  image-rendering: pixelated;
}

/* ============================================
   FOCUS STATES (Accessibility)
   ============================================ */

:focus-visible {
  outline: 4px solid var(--color-accent);
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible,
[tabindex]:focus-visible {
  outline: 4px solid var(--color-accent);
  outline-offset: 2px;
}

/* ============================================
   ANIMATIONS (Pixel-friendly)
   ============================================ */

/* Step animation for sprite-based animations */
@keyframes pixel-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes pixel-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.animate-bounce-pixel {
  animation: pixel-bounce 0.5s steps(2) infinite;
}

.animate-pulse-pixel {
  animation: pixel-pulse 1s steps(2) infinite;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ============================================
   RESPONSIVE PIXEL SCALING
   ============================================ */

/* 2x pixel scale for larger screens */
@media (min-width: 1280px) {
  :root {
    --pixel-scale: 2;
  }
  
  .pixel-scale-2x {
    transform: scale(2);
    transform-origin: top left;
  }
}

/* ============================================
   SCROLLBAR STYLING
   ============================================ */

::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: var(--color-dark-blue);
}

::-webkit-scrollbar-thumb {
  background: var(--color-dark-gray);
  border: 2px solid var(--color-dark-blue);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-lavender);
}
